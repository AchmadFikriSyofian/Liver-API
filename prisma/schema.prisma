// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Accounts {
  id  Int @id  @default(autoincrement())
  email String @unique
  password String
  student Students[]
}

model Students {
  id  Int @id @default(autoincrement())
  name String
  email String @unique
  no_hp String
  jenis_kelamin String?
  account_id Int
  account Accounts @relation(fields: [account_id], references: [id])
  assessment Assessments[]
  enrollment Enrollments[]
}


model Courses {
  id Int @id @default(autoincrement())
  name String
  desc String
  price Int
  mentor Mentors[]
  category Categories[]
  module Modules[]
  assessment Assessments[]
  enrollment Enrollments[]
}

model Modules {
  id Int @id @default(autoincrement())
  name String
  video String
  desc String
  course_id_module Int
  course Courses @relation(fields: [course_id_module], references: [id])
}

model Mentors {
  id Int @id @default(autoincrement())
  name String
  course_id_mentor Int
  course Courses @relation(fields: [course_id_mentor], references: [id])
}

model Categories {
  id Int @id @default(autoincrement())
  name String
  course_id_categories Int
  course Courses @relation(fields: [course_id_categories], references: [id])
}

model Assessments {
  id Int @id @default(autoincrement())
  nilai Int
  course_id_assessment Int
  course Courses @relation(fields: [course_id_assessment], references: [id])
  student_id_assessment Int
  student Students @relation(fields: [student_id_assessment], references: [id])
}

model Enrollments {
  id Int @id @default(autoincrement())
  student_id_enrollment Int
  student Students @relation(fields: [student_id_enrollment], references: [id])
  course_id_enrollment Int
  course Courses @relation(fields: [course_id_enrollment], references: [id])
}